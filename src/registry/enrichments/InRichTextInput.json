{
  "_metadata": {
    "lastUpdated": "2025-11-25T14:48:39.823Z",
    "propsHash": "0b2c0ec016be",
    "eventsHash": "0de5e4df1f1d",
    "propCount": 73,
    "eventCount": 18
  },
  "component": "InRichTextInput",
  "propEnrichments": {
    "value": {
      "description": "Input content with dynamic tags (v-model)",
      "valueFormat": {
        "structure": "string with tag placeholders",
        "notes": "HTML/rich text content with embedded dynamic content tags. Use v-model for two-way binding. Content can include toolbar formatting (bold, italic, links), dynamic tags ({{attribute}}), and WhatsApp styling (*bold*, _italic_) if enabled. Listen to @purify event to get sanitized output for saving.",
        "typescript": "string",
        "example": "v-model=\"content\" // '<p>Hello {{first_name}}, welcome!</p>'"
      }
    },
    "labelText": {
      "description": "Label text for the input",
      "valueFormat": {
        "structure": "string",
        "notes": "Label text displayed above the rich text editor. Shown when labelStatus=true. Use clear, descriptive labels to help users understand the field purpose (e.g., 'Message Content', 'Email Body', 'SMS Text').",
        "typescript": "string",
        "example": "label-text=\"Message Content\""
      }
    },
    "dynamicContentList": {
      "description": "Available dynamic content attributes - replaces V1 attributeList",
      "valueFormat": {
        "structure": "Array of attribute objects",
        "notes": "CRITICAL: Defines insertable dynamic content/merge tags for personalized messages. Each attribute needs 'label' (shown in dropdown) and 'value' (inserted as {{value}}). Optional: 'category' for grouping, 'icon' for visual distinction. Used for email templates, SMS campaigns, push notifications with user data. Example: user selects 'First Name', {{first_name}} gets inserted and later replaced with actual name.",
        "typescript": "Array<{ label: string; value: string; category?: string; icon?: string; }>",
        "example": ":dynamic-content-list=\"[{ label: 'First Name', value: 'first_name', category: 'User' }]\""
      },
      "commonMistakes": [
        {
          "mistake": "Using attributeList from V1",
          "impact": "Prop not recognized - no dynamic content available in dropdown",
          "fix": "Change to dynamicContentList: :dynamic-content-list=\"attributes\"",
          "severity": "high"
        }
      ]
    },
    "toolbarOptions": {
      "description": "Configure visible toolbar buttons",
      "valueFormat": {
        "structure": "Array of toolbar option strings",
        "notes": "Defines which formatting tools appear in the editor toolbar. Common options: 'bold', 'italic', 'underline' for text styling, 'link' for URLs, 'emoji' for emoji picker, 'dynamicContent' for merge tags. Customize based on use case: SMS uses minimal ['bold', 'italic', 'dynamicContent'], email uses full formatting. Order in array determines button order.",
        "typescript": "Array<'bold' | 'italic' | 'underline' | 'link' | 'emoji' | 'dynamicContent'>",
        "example": ":toolbar-options=\"['bold', 'italic', 'link', 'emoji', 'dynamicContent']\""
      }
    },
    "footerOptions": {
      "description": "Configure footer elements",
      "valueFormat": {
        "structure": "Array of footer option strings",
        "notes": "Controls what appears in the editor footer area. 'counter' shows character/word count (requires characterCounterStatus=true), 'label' displays footerLabel text, 'tags' shows list of used dynamic content tags. Useful for giving users real-time feedback on message length and dynamic content usage.",
        "typescript": "Array<'counter' | 'label' | 'tags'>",
        "example": ":footer-options=\"['counter', 'tags']\""
      }
    },
    "helperTextValidationConfig": {
      "description": "Validation configuration - replaces V1 textValidateConfig",
      "valueFormat": {
        "structure": "Object with validation rules",
        "notes": "Validation rules for rich text content. maxLength enforces character limit (critical for SMS 160 chars), minLength requires minimum content, segmentLength shows message segmentation for SMS (each segment = 160 chars). Validation messages appear via states/stateMessage props. Essential for channels with strict length limits.",
        "typescript": "{ maxLength?: number; minLength?: number; segmentLength?: number; }",
        "example": ":helper-text-validation-config=\"{ maxLength: 160, segmentLength: 160 }\""
      }
    },
    "helperTextValidationConfigStatus": {
      "description": "Enable helper text validation display",
      "valueFormat": {
        "structure": "boolean",
        "notes": "When true, enables validation feedback based on helperTextValidationConfig rules. Shows warning/error states when limits are approached or exceeded. Use with states and stateMessage props to provide user feedback. Essential for enforcing content constraints.",
        "typescript": "boolean",
        "example": "helper-text-validation-config-status"
      }
    },
    "states": {
      "description": "Validation state - replaces V1 invalid/warning",
      "valueFormat": {
        "structure": "string enum",
        "notes": "Visual validation state for the editor. 'default' for normal, 'success' for valid, 'warning' for approaching limits (e.g., 150/160 chars), 'error' for invalid/exceeded limits. Replaces V1's separate invalid and warning boolean props. Use with stateMessage to explain the validation issue.",
        "typescript": "'default' | 'success' | 'warning' | 'error'",
        "possibleValues": [
          "default",
          "success",
          "warning",
          "error"
        ],
        "example": "states=\"warning\" // When approaching SMS limit"
      }
    },
    "stateMessage": {
      "description": "Message for validation state",
      "valueFormat": {
        "structure": "string",
        "notes": "Explanatory message shown with validation state. Appears below editor when states is set to warning/error. Provide clear, actionable feedback: 'Required field', 'Maximum 160 characters', 'Message will be split into 2 SMS'. Critical for user understanding of validation rules.",
        "typescript": "string",
        "example": "state-message=\"Message exceeds SMS limit and will be split into multiple messages\""
      }
    },
    "characterCounterStatus": {
      "description": "Show character counter - replaces V1 isCounter",
      "valueFormat": {
        "structure": "boolean",
        "notes": "Shows character/word count in footer. Requires footerOptions to include 'counter'. Count respects helperTextValidationConfig.maxLength (e.g., '45/160'). Essential for SMS (160 char limit), Twitter-like interfaces, or any character-limited content. Use customCounter for custom counting logic.",
        "typescript": "boolean",
        "example": "character-counter-status :footer-options=\"['counter']\""
      }
    },
    "maxSelectableDynamicContent": {
      "description": "Maximum dynamic content tags allowed",
      "valueFormat": {
        "structure": "number",
        "notes": "Limits how many dynamic content tags can be inserted into the message. 0 (default) means unlimited. When limit reached, dynamic content button becomes disabled. Useful for enforcing business rules like 'max 5 personalization fields per SMS' or preventing over-personalization that hurts deliverability.",
        "typescript": "number",
        "example": ":max-selectable-dynamic-content=\"5\" // Max 5 dynamic tags"
      }
    },
    "isDynamicContentOnly": {
      "description": "Only allow dynamic content (no free text)",
      "valueFormat": {
        "structure": "boolean",
        "notes": "When true, users can ONLY insert dynamic content tags - no free text allowed. Useful for strict templating scenarios where content must be entirely composed of predefined attributes. Example: webhook payload builder where only valid field names are allowed.",
        "typescript": "boolean",
        "example": "is-dynamic-content-only // Only {{tags}} allowed, no free text"
      }
    },
    "canOnlyReplaceDynamicContent": {
      "description": "Only allow replacing existing dynamic content",
      "valueFormat": {
        "structure": "boolean",
        "notes": "When true, users cannot add NEW dynamic content tags, only replace/edit existing ones. Useful for locked templates where tag structure is fixed but tag selection can change. Example: pre-defined email template where placeholders exist but sender can swap which attributes fill them.",
        "typescript": "boolean",
        "example": "can-only-replace-dynamic-content // Edit existing tags only"
      }
    },
    "tipStatus": {
      "description": "Show usage tips",
      "valueFormat": {
        "structure": "boolean",
        "notes": "Displays helpful usage tips/hints to users within the editor interface. Tips can explain keyboard shortcuts, formatting syntax (WhatsApp *bold*), or dynamic content usage. Use slot 'tipOptions' to provide custom tip content. Helpful for first-time users or complex features.",
        "typescript": "boolean",
        "example": "tip-status // Shows usage tips in UI"
      }
    },
    "specialCharacters": {
      "description": "Special characters configuration",
      "valueFormat": {
        "structure": "Object with character settings",
        "notes": "Configures special character support (©, ®, ™, etc). When enabled=true, shows special character picker. Provide optional 'list' array to customize available characters. Useful for legal/marketing content requiring trademark symbols. Characters can be highlighted with isHighlightCharactersEnabled.",
        "typescript": "{ enabled: boolean; list?: string[]; }",
        "example": ":special-characters=\"{ enabled: true, list: ['©', '®', '™'] }\""
      }
    },
    "isHighlightCharactersEnabled": {
      "description": "Highlight special characters in text",
      "valueFormat": {
        "structure": "boolean",
        "notes": "When true, visually highlights special characters (from specialCharacters.list) in the editor. Helps users identify non-standard characters that might cause encoding issues in SMS or affect character count. Essential for multi-language or SMS campaigns where special chars consume extra space.",
        "typescript": "boolean",
        "example": "is-highlight-characters-enabled"
      }
    },
    "isHighlightUrlEnabled": {
      "description": "Highlight URLs in text",
      "valueFormat": {
        "structure": "boolean",
        "notes": "Automatically detects and highlights URLs in the text content. URLs become clickable and visually distinct. Detection uses urlPatternRegex if provided. Useful for email/SMS editors where link tracking or shortening is needed. Combine with @onShortenUrlClick event for URL shortening workflows.",
        "typescript": "boolean",
        "example": "is-highlight-url-enabled"
      }
    },
    "whatsappStylingSupport": {
      "description": "Enable WhatsApp text formatting (*bold*, _italic_)",
      "valueFormat": {
        "structure": "boolean",
        "notes": "Enables WhatsApp markdown-style formatting: *bold*, _italic_, ~strikethrough~, ```monospace```. When enabled, text wrapped in these symbols will be formatted in WhatsApp messages. Critical for WhatsApp Business API campaigns where formatting must match WhatsApp's syntax. Shows formatting hints to users.",
        "typescript": "boolean",
        "example": "whatsapp-styling-support // Enables *bold*, _italic_ syntax"
      }
    },
    "emojiButtonStatus": {
      "description": "Show emoji picker button - replaces V1 hasEmoji",
      "valueFormat": {
        "structure": "boolean",
        "notes": "Shows emoji picker button in toolbar. Replaces V1's hasEmoji prop. When clicked, opens emoji selector allowing users to insert emojis into content. Essential for social media posts, WhatsApp messages, or casual communication channels. Emojis can affect character count in SMS.",
        "typescript": "boolean",
        "example": "emoji-button-status // Shows emoji picker in toolbar"
      }
    },
    "isExtendedDynamicContent": {
      "description": "Enable extended dynamic content features",
      "valueFormat": {
        "structure": "boolean",
        "notes": "Enables advanced dynamic content features like nested attributes, conditional rendering, or complex data structures. When true, dynamic content picker shows extended UI with more options. Use dynamicContentBoxProps to configure the extended picker. For enterprise-level templating with complex data models.",
        "typescript": "boolean",
        "example": "is-extended-dynamic-content"
      }
    },
    "dynamicContentBoxProps": {
      "description": "Props for dynamic content selection box",
      "valueFormat": {
        "structure": "Object with box configuration",
        "notes": "Configuration for the dynamic content selection dropdown/modal. searchable=true adds search box (use when >20 attributes), grouped=true shows category groups, maxHeight limits dropdown height. Essential for large attribute lists to maintain usability. Works with isExtendedDynamicContent for advanced features.",
        "typescript": "{ searchable?: boolean; grouped?: boolean; maxHeight?: number; }",
        "example": ":dynamic-content-box-props=\"{ searchable: true, grouped: true }\""
      }
    },
    "usedDynamicContent": {
      "description": "Track which dynamic content is used",
      "valueFormat": {
        "structure": "Array of used attribute values",
        "notes": "Array tracking which dynamic content tags are currently in the message. Updates automatically as tags are added/removed. Use to show 'used attributes' list in UI, validate required attributes are present, or analyze attribute usage patterns. Emitted via @markedTags event.",
        "typescript": "Array<string>",
        "example": ":used-dynamic-content=\"['first_name', 'email']\" // Currently used tags"
      }
    },
    "errorTags": {
      "description": "Tags to highlight as errors",
      "valueFormat": {
        "structure": "Array of tag values",
        "notes": "Array of attribute values to mark as errors in the editor. Tags in this list will be visually highlighted with error styling. Use for invalid/undefined attributes, deprecated fields, or tags that failed validation. Critical for preventing message delivery failures from bad attribute references.",
        "typescript": "Array<string>",
        "example": ":error-tags=\"['invalid_attr', 'deleted_field']\" // Show as errors"
      }
    },
    "warningTags": {
      "description": "Tags to highlight as warnings",
      "valueFormat": {
        "structure": "Array of tag values",
        "notes": "Array of attribute values to mark with warning styling. Use for deprecated but still functional attributes, optional fields that might be empty, or attributes with potential issues. Warns users without blocking submission. Softer than errorTags.",
        "typescript": "Array<string>",
        "example": ":warning-tags=\"['deprecated_attr', 'beta_field']\" // Show warnings"
      }
    },
    "customCounter": {
      "description": "Custom counter component/logic",
      "valueFormat": {
        "structure": "Object or component",
        "notes": "Custom character counting logic or component to replace default counter. Use when standard counting doesn't fit your needs (e.g., Unicode normalization, special character weighting, GSM-7 encoding for SMS). Provide component or config object with counting function.",
        "typescript": "Object | Component",
        "example": ":custom-counter=\"smsGsmCounter\" // Custom SMS character counter"
      }
    },
    "footerLabel": {
      "description": "Label text in footer",
      "valueFormat": {
        "structure": "string",
        "notes": "Custom label text displayed in the editor footer. Appears when footerOptions includes 'label'. Use to provide context-specific information: 'SMS segments used', 'Characters remaining', 'Estimated send cost'. Shown alongside counter if both are enabled.",
        "typescript": "string",
        "example": "footer-label=\"SMS segments\""
      }
    },
    "urlPatternRegex": {
      "description": "Custom regex for URL detection",
      "valueFormat": {
        "structure": "RegExp",
        "notes": "Custom regular expression for detecting URLs in text. Default regex catches http/https URLs. Override to match custom URL formats, internal links, or specific domains. Used with isHighlightUrlEnabled to identify clickable links. Affects URL shortening and tracking features.",
        "typescript": "RegExp",
        "example": ":url-pattern-regex=\"/https?:\\/\\/[^\\s]+/g\""
      }
    },
    "isUploadFallback": {
      "description": "Enable image upload for fallback",
      "valueFormat": {
        "structure": "boolean",
        "notes": "Allows uploading images as fallback values for dynamic content. When user clicks on a dynamic tag, they can upload an image instead of text. Useful for personalized product images, profile pictures, or visual content in templates. Image URLs become fallback values.",
        "typescript": "boolean",
        "example": "is-upload-fallback // Allow image uploads for fallbacks"
      }
    },
    "fallbackVisibility": {
      "description": "Control fallback UI visibility",
      "valueFormat": {
        "structure": "string enum",
        "notes": "Controls when fallback editor UI is shown. 'always' shows fallback input permanently, 'onHover' reveals it when hovering over dynamic tags, 'onClick' shows modal when tag is clicked. Choose based on UX: onClick is cleaner for many tags, always is better for visibility.",
        "typescript": "'always' | 'onHover' | 'onClick'",
        "possibleValues": [
          "always",
          "onHover",
          "onClick"
        ],
        "example": "fallback-visibility=\"onHover\""
      }
    },
    "disabledToolbarOptions": {
      "description": "Disable specific toolbar buttons",
      "valueFormat": {
        "structure": "Array of option strings",
        "notes": "Array of toolbar button names to disable (greyed out, not clickable). Use to restrict certain formatting based on context: disable 'link' for SMS, disable 'emoji' for formal emails. More granular than omitting from toolbarOptions - buttons still visible but disabled.",
        "typescript": "Array<string>",
        "example": ":disabled-toolbar-options=\"['link', 'emoji']\" // Show but disable"
      }
    },
    "dynamicContentStates": {
      "description": "State configuration for dynamic content tags",
      "valueFormat": {
        "structure": "Object mapping tags to states",
        "notes": "Maps each dynamic content tag to a visual state (default/warning/error). More flexible than errorTags/warningTags arrays. Use for per-tag validation states: show 'email' as warning if optional, 'deleted_field' as error. State affects tag styling in editor.",
        "typescript": "Record<string, 'default' | 'warning' | 'error'>",
        "example": ":dynamic-content-states=\"{ 'old_attr': 'warning', 'invalid': 'error' }\""
      }
    }
  },
  "eventEnrichments": {
    "purify": {
      "description": "Emitted with sanitized string content",
      "payload": "string",
      "usage": "@purify=\"handlePurify\""
    },
    "purifyObject": {
      "description": "Emitted with detailed purified content object",
      "payload": "{ text: string, html: string, tags: Array }",
      "usage": "@purify-object=\"handlePurifyObject\""
    },
    "generate": {
      "description": "Emitted when content is generated/composed",
      "payload": "string",
      "usage": "@generate=\"handleGenerate\""
    },
    "markedTags": {
      "description": "Emitted with list of used tags",
      "payload": "Array<string>",
      "usage": "@marked-tags=\"handleMarkedTags\""
    },
    "updateFallBackOptions": {
      "description": "Emitted when fallback options change",
      "payload": "Object - fallback configuration",
      "usage": "@update-fall-back-options=\"handleFallbackUpdate\""
    },
    "saveFallBackOption": {
      "description": "Emitted when fallback is saved",
      "payload": "{ tag: string, value: string }",
      "usage": "@save-fall-back-option=\"handleSaveFallback\""
    },
    "addDynamicAttribute": {
      "description": "Emitted when new dynamic attribute is added",
      "payload": "{ label: string, value: string }",
      "usage": "@add-dynamic-attribute=\"handleAddAttribute\""
    },
    "onShortenUrlClick": {
      "description": "Emitted when URL shortening is requested",
      "payload": "string - URL to shorten",
      "usage": "@on-shorten-url-click=\"handleShortenUrl\""
    },
    "closeAllEmojiPickers": {
      "description": "Emitted to close all emoji pickers",
      "payload": "void",
      "usage": "@close-all-emoji-pickers=\"handleCloseEmoji\""
    }
  },
  "examples": [
    {
      "title": "Basic Rich Text Editor",
      "description": "Simple editor with toolbar and dynamic content",
      "code": "<InRichTextInput\n  id=\"message\"\n  label-status\n  label-text=\"Message Content\"\n  placeholder-text=\"Enter your message...\"\n  v-model=\"content\"\n  :dynamic-content-list=\"[\n    { label: 'First Name', value: 'first_name', category: 'User' },\n    { label: 'Email', value: 'email', category: 'User' }\n  ]\"\n  :toolbar-options=\"['bold', 'italic', 'link', 'emoji', 'dynamicContent']\"\n  :footer-options=\"['counter']\"\n  character-counter-status\n  @purify=\"handlePurify\"\n/>"
    },
    {
      "title": "SMS Editor with Validation",
      "description": "SMS message editor with character limits",
      "code": "<InRichTextInput\n  id=\"sms\"\n  label-status\n  label-text=\"SMS Message\"\n  v-model=\"smsContent\"\n  :dynamic-content-list=\"attributes\"\n  helper-text-validation-config-status\n  :helper-text-validation-config=\"{ maxLength: 160, segmentLength: 160 }\"\n  character-counter-status\n  :footer-options=\"['counter', 'tags']\"\n  :max-selectable-dynamic-content=\"5\"\n  states=\"warning\"\n  state-message=\"Message will be split into multiple segments\"\n  @purify=\"handlePurify\"\n  @marked-tags=\"handleTags\"\n/>"
    },
    {
      "title": "WhatsApp Message Editor",
      "description": "Editor with WhatsApp formatting support",
      "code": "<InRichTextInput\n  id=\"whatsapp\"\n  label-status\n  label-text=\"WhatsApp Message\"\n  v-model=\"waContent\"\n  :dynamic-content-list=\"attributes\"\n  whatsapp-styling-support\n  emoji-button-status\n  is-highlight-url-enabled\n  :toolbar-options=\"['bold', 'italic', 'emoji', 'dynamicContent']\"\n  tip-status\n  @purify=\"handlePurify\"\n/>"
    },
    {
      "title": "Advanced Editor with Fallbacks",
      "description": "Full-featured editor with fallback handling",
      "code": "<InRichTextInput\n  id=\"email\"\n  label-status\n  label-text=\"Email Content\"\n  v-model=\"emailContent\"\n  :dynamic-content-list=\"attributes\"\n  is-extended-dynamic-content\n  :dynamic-content-box-props=\"{ searchable: true, grouped: true }\"\n  fall-back-label=\"Default Value\"\n  fall-back-placeholder=\"Enter default...\"\n  is-upload-fallback\n  fallback-visibility=\"onHover\"\n  :error-tags=\"invalidAttributes\"\n  :warning-tags=\"deprecatedAttributes\"\n  @purify-object=\"handlePurifyObject\"\n  @save-fall-back-option=\"handleSaveFallback\"\n  @add-dynamic-attribute=\"handleAddAttribute\"\n/>"
    }
  ],
  "commonMistakes": [
    {
      "mistake": "Using attributeList instead of dynamicContentList",
      "issue": "No dynamic content available",
      "solution": "V2 uses dynamic-content-list, not attribute-list",
      "severity": "high"
    },
    {
      "mistake": "Using textValidateConfig instead of helperTextValidationConfig",
      "issue": "Validation not working",
      "solution": "Use helper-text-validation-config with helper-text-validation-config-status",
      "severity": "high"
    },
    {
      "mistake": "Using invalid/warning booleans",
      "issue": "Validation state not shown",
      "solution": "Use states=\"error\" or states=\"warning\" with state-message",
      "severity": "high"
    },
    {
      "mistake": "Using isCounter instead of characterCounterStatus",
      "issue": "Counter not displayed",
      "solution": "Use character-counter-status",
      "severity": "medium"
    },
    {
      "mistake": "Using hasEmoji instead of emojiButtonStatus",
      "issue": "Emoji picker not shown",
      "solution": "Use emoji-button-status",
      "severity": "medium"
    },
    {
      "mistake": "Not handling @purify event",
      "issue": "Using raw unsanitized content",
      "solution": "Always use @purify or @purify-object for final content",
      "severity": "high"
    }
  ],
  "bestPractices": [
    {
      "practice": "Use toolbarOptions to control available features",
      "description": "Only show relevant toolbar buttons for the use case",
      "example": ":toolbar-options=\"['bold', 'italic', 'dynamicContent']\" for SMS"
    },
    {
      "practice": "Implement proper fallback handling",
      "description": "Use @save-fall-back-option to persist fallback values",
      "example": "@save-fall-back-option=\"persistFallback\""
    },
    {
      "practice": "Use dynamicContentStates for tag validation",
      "description": "Mark deprecated or invalid tags with visual feedback",
      "example": ":dynamic-content-states=\"{ 'old_field': 'warning' }\""
    },
    {
      "practice": "Enable helperTextValidationConfigStatus for limits",
      "description": "Show users validation feedback in real-time",
      "example": "helper-text-validation-config-status :helper-text-validation-config=\"{ maxLength: 160 }\""
    }
  ],
  "performanceNotes": [
    {
      "note": "Large dynamicContentList can slow dropdown",
      "description": "Use dynamicContentBoxProps.searchable for large lists",
      "recommendation": "Enable search when > 20 attributes"
    },
    {
      "note": "Frequent @purify calls",
      "description": "purify event fires on every change",
      "recommendation": "Debounce if doing expensive operations"
    }
  ]
}
