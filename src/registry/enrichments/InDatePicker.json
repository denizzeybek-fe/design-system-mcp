{
  "component": "InDatePicker",
  "_metadata": {
    "lastUpdated": "2025-11-25T14:48:39.823Z",
    "propsHash": "4c002fa8a262",
    "eventsHash": "e10808d43975",
    "propCount": 23,
    "eventCount": 1
  },
  "propEnrichments": {
    "value": {
      "valueFormat": {
        "structure": "Object (plain object, NOT array)",
        "objectShape": "{ startDate: string, endDate: string }",
        "examples": [
          "{ startDate: '01/12/2024', endDate: '20/12/2024' }",
          "{ startDate: '12.01.2024', endDate: '20.12.2024' }"
        ],
        "notes": "CRITICAL: V1 uses plain object, NOT array like V2. Date format depends on locale setting. Use mm/dd/yyyy for US locale, dd.mm.yyyy for EU/TR locales.",
        "typescript": "{ startDate: string; endDate: string }"
      },
      "relatedProps": [
        "singleDatePicker",
        "locale",
        "formatMapping"
      ],
      "migrationToV2": {
        "v2Format": "Array<{ startDate: string, endDate: string }>",
        "transformation": "const v2Value = [v1Value];",
        "notes": "V2 requires array to support comparison mode"
      },
      "commonMistakes": [
        {
          "mistake": "Passing array format like V2: [{ startDate, endDate }]",
          "impact": "Component won't render dates, shows empty picker",
          "fix": "Remove array wrapper, use plain object: { startDate, endDate }",
          "severity": "critical"
        },
        {
          "mistake": "Passing Date objects instead of strings",
          "impact": "Type error, component may crash",
          "fix": "Convert to string: { startDate: '01/12/2024', endDate: '20/12/2024' }",
          "severity": "critical"
        },
        {
          "mistake": "Wrong date format for locale (e.g., mm/dd/yyyy for Turkish locale)",
          "impact": "Date parsing fails, shows invalid dates",
          "fix": "Match format to locale: dd.mm.yyyy for tr-TR, mm/dd/yyyy for en-US",
          "severity": "high"
        }
      ]
    },
    "customRanges": {
      "valueFormat": {
        "structure": "Object<string, Array<Date>>",
        "objectShape": "{ [rangeLabel: string]: [Date, Date] }",
        "examples": [
          "{ 'Q4 2024': [new Date('2024-10-01'), new Date('2024-12-31')] }",
          "{ 'Last Quarter': [new Date('2024-07-01'), new Date('2024-09-30')], 'This Year': [new Date('2024-01-01'), new Date('2024-12-31')] }"
        ],
        "notes": "CRITICAL: V1 uses object with Date array values. Keys are display labels. Values MUST be native Date objects, NOT strings.",
        "typescript": "Record<string, [Date, Date]>"
      },
      "relatedProps": [
        "customDateRange",
        "additionalRanges"
      ],
      "migrationToV2": {
        "v2Format": "Array<{ name: string, title: string, startDate: string, endDate: string }>",
        "transformation": "Object.entries(v1CustomRanges).map(([title, dates], i) => ({ name: `custom${i+1}`, title, startDate: formatDateToSlash(dates[0]), endDate: formatDateToSlash(dates[1]) }))",
        "notes": "V2 uses array with mm/dd/yyyy string format"
      },
      "commonMistakes": [
        {
          "mistake": "Using string dates instead of Date objects: { 'Q4': ['10/01/2024', '12/31/2024'] }",
          "impact": "Component won't render custom ranges, buttons don't appear",
          "fix": "Use Date objects: { 'Q4': [new Date('2024-10-01'), new Date('2024-12-31')] }",
          "severity": "critical"
        },
        {
          "mistake": "Passing V2 array format with name/title properties",
          "impact": "Type error, custom ranges won't work",
          "fix": "Use V1 object format with Date arrays",
          "severity": "critical"
        },
        {
          "mistake": "Not setting customDateRange prop to true",
          "impact": "Custom ranges won't be displayed even if provided",
          "fix": "Add :custom-date-range=\"true\" to enable custom ranges",
          "severity": "medium"
        }
      ]
    },
    "disabledRange": {
      "valueFormat": {
        "structure": "Array<number> (Unix timestamps in seconds)",
        "arrayShape": "[startTimestamp, endTimestamp]",
        "examples": [
          "[1704067200, 1735689599]",
          "[1609459200, 1640995199]"
        ],
        "notes": "CRITICAL: V1 uses Unix timestamps in SECONDS (not milliseconds). Array of two numbers: [start, end]. Dates in this range will be disabled.",
        "typescript": "[number, number]"
      },
      "relatedProps": [
        "minDate",
        "maxDate"
      ],
      "migrationToV2": {
        "v2Format": "{ startDate: string, endDate: string }",
        "transformation": "{ startDate: formatDate(new Date(v1[0] * 1000)), endDate: formatDate(new Date(v1[1] * 1000)) }",
        "notes": "V2 uses object with date strings"
      },
      "commonMistakes": [
        {
          "mistake": "Using milliseconds instead of seconds: [Date.now(), Date.now()]",
          "impact": "Incorrect date range disabled, may disable dates far in future",
          "fix": "Convert to seconds: [Math.floor(Date.now() / 1000), Math.floor(endDate.getTime() / 1000)]",
          "severity": "high"
        },
        {
          "mistake": "Passing Date objects or strings",
          "impact": "Type error, disabled range won't work",
          "fix": "Convert to Unix timestamps in seconds: [date.getTime() / 1000, ...]",
          "severity": "high"
        },
        {
          "mistake": "Using V2 object format: { startDate, endDate }",
          "impact": "Type error, disabled range won't work",
          "fix": "Use array of Unix timestamps: [startTimestamp, endTimestamp]",
          "severity": "critical"
        }
      ]
    },
    "formatMapping": {
      "valueFormat": {
        "structure": "Object<string, string>",
        "objectShape": "{ [locale: string]: formatString }",
        "examples": [
          "{ 'en-US': 'mm/dd/yyyy', 'en-GB': 'dd/mm/yyyy', 'tr-TR': 'dd.mm.yyyy', 'default': 'dd.mm.yyyy' }",
          "{ 'default': 'mm/dd/yyyy' }"
        ],
        "notes": "Maps locale codes to date format strings. Must match format used in value prop. Common formats: mm/dd/yyyy (US), dd.mm.yyyy (EU/TR), dd/mm/yyyy (GB).",
        "typescript": "Record<string, string>"
      },
      "relatedProps": [
        "locale"
      ],
      "commonMistakes": [
        {
          "mistake": "Not providing 'default' fallback key",
          "impact": "Component may not format dates correctly for unmapped locales",
          "fix": "Always include 'default' key: { 'default': 'dd.mm.yyyy', ... }",
          "severity": "medium"
        },
        {
          "mistake": "Format string doesn't match value prop format",
          "impact": "Date parsing/display mismatch, shows wrong dates",
          "fix": "Ensure formatMapping matches value date format",
          "severity": "high"
        }
      ]
    },
    "openPosition": {
      "valueFormat": {
        "structure": "string (enum)",
        "validValues": [
          "left",
          "right",
          "center"
        ],
        "default": "right",
        "notes": "Controls calendar popover position. Renamed to 'calendarPopoverAlign' in V2.",
        "typescript": "'left' | 'right' | 'center'"
      },
      "migrationToV2": {
        "v2Prop": "calendarPopoverAlign",
        "transformation": "Direct rename, same values",
        "notes": "Simple rename for consistency"
      }
    },
    "additionalRanges": {
      "valueFormat": {
        "structure": "boolean",
        "notes": "Shows extended set of quick ranges (Last 30 Days, This Month, Last Month, etc.). Replaced with more flexible 'defaultRanges' array in V2.",
        "typescript": "boolean"
      },
      "relatedProps": [
        "customRanges",
        "customDateRange"
      ],
      "migrationToV2": {
        "v2Prop": "defaultRanges",
        "transformation": "additionalRanges ? ['Today', 'Yesterday', 'Last 7 Days', 'Last 30 Days', 'This Month', 'Last Month'] : ['Today', 'Yesterday']",
        "notes": "V2 uses array for granular control"
      },
      "commonMistakes": [
        {
          "mistake": "Expecting customRanges to show without setting customDateRange=true",
          "impact": "Custom ranges won't appear",
          "fix": "Set both :custom-date-range=\"true\" and provide :custom-ranges",
          "severity": "medium"
        }
      ]
    },
    "singleDatePicker": {
      "valueFormat": {
        "structure": "boolean",
        "notes": "Enables single date selection mode. When true, only startDate is used. Renamed to 'singleDatePickerStatus' in V2.",
        "typescript": "boolean"
      },
      "relatedProps": [
        "value"
      ],
      "migrationToV2": {
        "v2Prop": "singleDatePickerStatus",
        "notes": "Renamed with 'Status' suffix for consistency"
      },
      "commonMistakes": [
        {
          "mistake": "Still providing endDate when singleDatePicker=true",
          "impact": "endDate is ignored, may cause confusion",
          "fix": "When single mode, only set startDate in value object",
          "severity": "low"
        }
      ]
    }
  },
  "eventEnrichments": {
    "update": {
      "payloadTypes": [
        {
          "condition": "Always (V1 has no comparison mode)",
          "type": "string",
          "format": "\"mm/dd/yyyy-mm/dd/yyyy\"",
          "example": "\"12/01/2024-12/20/2024\""
        }
      ],
      "useCase": "Emitted when user selects a date range and clicks apply. V1 always returns string (no comparison support).",
      "handlingPattern": "@update=\"handleUpdate\"\n\nhandleUpdate(rangeStr) {\n  // rangeStr is always string: \"start-end\"\n  const [start, end] = rangeStr.split('-');\n  this.startDate = start;\n  this.endDate = end;\n}",
      "migrationToV2": {
        "v2Event": "@apply",
        "v2Payload": "string OR Array<string>",
        "notes": "V2 can return array when comparison is active. Must check Array.isArray(payload) in V2 handler."
      },
      "commonMistakes": [
        {
          "mistake": "Expecting array payload like V2",
          "impact": "String.split() will fail if checking Array.isArray() first",
          "fix": "V1 always returns string, no array check needed",
          "severity": "medium"
        },
        {
          "mistake": "Not updating value prop reactively",
          "impact": "Component won't reflect user selection",
          "fix": "Update startDate/endDate in data() and use computed for value",
          "severity": "high"
        }
      ]
    }
  },
  "examples": [
    {
      "title": "Basic V1 Date Range Picker",
      "description": "Simple date range picker without custom ranges",
      "complexity": "beginner",
      "code": "<template>\n  <InDatePicker\n    id=\"date-picker\"\n    label=\"Select Period\"\n    :value=\"dateValue\"\n    :min-date=\"minDate\"\n    :max-date=\"maxDate\"\n    :locale=\"locale\"\n    :format-mapping=\"formatMapping\"\n    :additional-ranges=\"true\"\n    open-position=\"right\"\n    @update=\"handleUpdate\" />\n</template>\n\n<script>\nimport { InDatePicker } from '@useinsider/design-system-vue';\n\nexport default {\n  components: { InDatePicker },\n  \n  data() {\n    return {\n      startDate: '01/12/2024',\n      endDate: '20/12/2024',\n      minDate: '01/01/2023',\n      maxDate: new Date().toLocaleDateString('en-US'),\n      locale: 'en-US',\n      formatMapping: {\n        'en-US': 'mm/dd/yyyy',\n        'tr-TR': 'dd.mm.yyyy',\n        'default': 'mm/dd/yyyy'\n      }\n    };\n  },\n  \n  computed: {\n    dateValue() {\n      // V1: Plain object (NOT array)\n      return {\n        startDate: this.startDate,\n        endDate: this.endDate\n      };\n    }\n  },\n  \n  methods: {\n    handleUpdate(rangeStr) {\n      // V1 always returns string: \"mm/dd/yyyy-mm/dd/yyyy\"\n      const [start, end] = rangeStr.split('-');\n      this.startDate = start;\n      this.endDate = end;\n      \n      console.log('Date range selected:', { start, end });\n    }\n  }\n};\n</script>"
    },
    {
      "title": "With Custom Ranges & Disabled Dates",
      "description": "V1 date picker with custom quick ranges and disabled date range",
      "complexity": "intermediate",
      "code": "<template>\n  <InDatePicker\n    id=\"date-picker-custom\"\n    label=\"Reporting Period\"\n    :value=\"dateValue\"\n    :custom-date-range=\"true\"\n    :custom-ranges=\"customRanges\"\n    :disabled-range=\"disabledRange\"\n    :additional-ranges=\"true\"\n    :locale=\"locale\"\n    :format-mapping=\"formatMapping\"\n    open-position=\"center\"\n    @update=\"handleUpdate\" />\n</template>\n\n<script>\nimport { InDatePicker } from '@useinsider/design-system-vue';\n\nexport default {\n  components: { InDatePicker },\n  \n  data() {\n    return {\n      startDate: '10/01/2024',\n      endDate: '12/31/2024',\n      locale: 'en-US',\n      formatMapping: {\n        'en-US': 'mm/dd/yyyy',\n        'default': 'mm/dd/yyyy'\n      },\n      // V1 custom ranges: Object with Date arrays\n      customRanges: {\n        'Q4 2024': [new Date('2024-10-01'), new Date('2024-12-31')],\n        'Q3 2024': [new Date('2024-07-01'), new Date('2024-09-30')],\n        'H2 2024': [new Date('2024-07-01'), new Date('2024-12-31')],\n        'Full Year': [new Date('2024-01-01'), new Date('2024-12-31')]\n      },\n      // V1 disabled range: Unix timestamps in SECONDS\n      disabledRange: [\n        Math.floor(new Date('2024-12-25').getTime() / 1000), // Christmas\n        Math.floor(new Date('2024-12-26').getTime() / 1000)\n      ]\n    };\n  },\n  \n  computed: {\n    dateValue() {\n      return {\n        startDate: this.startDate,\n        endDate: this.endDate\n      };\n    }\n  },\n  \n  methods: {\n    handleUpdate(rangeStr) {\n      const [start, end] = rangeStr.split('-');\n      this.startDate = start;\n      this.endDate = end;\n      \n      // Update analytics or fetch data\n      this.fetchReportData(start, end);\n    },\n    \n    fetchReportData(startDate, endDate) {\n      console.log('Fetching data for:', startDate, 'to', endDate);\n      // API call here\n    }\n  }\n};\n</script>"
    },
    {
      "title": "Turkish Locale with Dot Format",
      "description": "V1 date picker configured for Turkish locale with dd.mm.yyyy format",
      "complexity": "intermediate",
      "code": "<template>\n  <InDatePicker\n    id=\"date-picker-tr\"\n    label=\"Tarih Aralığı Seçin\"\n    :value=\"dateValue\"\n    :locale=\"'tr-TR'\"\n    :format-mapping=\"formatMapping\"\n    :additional-ranges=\"true\"\n    :custom-date-range=\"true\"\n    :custom-ranges=\"customRanges\"\n    separator=\" - \"\n    @update=\"handleUpdate\" />\n</template>\n\n<script>\nimport { InDatePicker } from '@useinsider/design-system-vue';\n\nexport default {\n  components: { InDatePicker },\n  \n  data() {\n    return {\n      startDate: '01.12.2024',\n      endDate: '31.12.2024',\n      formatMapping: {\n        'tr-TR': 'dd.mm.yyyy',\n        'default': 'dd.mm.yyyy'\n      },\n      customRanges: {\n        'Son Çeyrek': [new Date('2024-10-01'), new Date('2024-12-31')],\n        'Bu Yıl': [new Date('2024-01-01'), new Date('2024-12-31')]\n      }\n    };\n  },\n  \n  computed: {\n    dateValue() {\n      return {\n        startDate: this.startDate,\n        endDate: this.endDate\n      };\n    }\n  },\n  \n  methods: {\n    handleUpdate(rangeStr) {\n      // Note: rangeStr is still in mm/dd/yyyy format from component\n      // Need to convert to dd.mm.yyyy for Turkish display\n      const [start, end] = rangeStr.split('-');\n      this.startDate = this.convertToTurkishFormat(start);\n      this.endDate = this.convertToTurkishFormat(end);\n    },\n    \n    convertToTurkishFormat(usDateStr) {\n      // Convert mm/dd/yyyy to dd.mm.yyyy\n      const [month, day, year] = usDateStr.split('/');\n      return `${day}.${month}.${year}`;\n    }\n  }\n};\n</script>"
    }
  ],
  "helperFunctions": [
    {
      "name": "convertToUnixTimestamp",
      "description": "Convert Date object to Unix timestamp in seconds (for disabledRange)",
      "code": "convertToUnixTimestamp(date) {\n  return Math.floor(new Date(date).getTime() / 1000);\n}",
      "typescript": "convertToUnixTimestamp(date: Date | string): number",
      "usedFor": [
        "disabledRange"
      ]
    },
    {
      "name": "convertToTurkishFormat",
      "description": "Convert mm/dd/yyyy to dd.mm.yyyy for Turkish locale",
      "code": "convertToTurkishFormat(usDateStr) {\n  const [month, day, year] = usDateStr.split('/');\n  return `${day}.${month}.${year}`;\n}",
      "typescript": "convertToTurkishFormat(usDateStr: string): string",
      "usedFor": [
        "Turkish locale date conversion"
      ]
    },
    {
      "name": "convertFromTurkishFormat",
      "description": "Convert dd.mm.yyyy to mm/dd/yyyy for component",
      "code": "convertFromTurkishFormat(trDateStr) {\n  const [day, month, year] = trDateStr.split('.');\n  return `${month}/${day}/${year}`;\n}",
      "typescript": "convertFromTurkishFormat(trDateStr: string): string",
      "usedFor": [
        "Turkish locale date conversion"
      ]
    }
  ],
  "codeSnippets": {
    "basicDatePicker": {
      "title": "Basic Date Picker",
      "description": "Simple single date selection",
      "code": "<script setup>\nimport { ref } from 'vue';\nimport { InDatePicker } from '@useinsider/design-system-vue';\n\nconst selectedDate = ref('');\n</script>\n\n<template>\n  <InDatePicker\n    id=\"date-picker\"\n    label=\"Select Date\"\n    v-model=\"selectedDate\"\n    format=\"dd.mm.yyyy\"\n  />\n</template>"
    },
    "dateRange": {
      "title": "Date Range Picker",
      "description": "Select date range with custom ranges",
      "code": "<script setup>\nimport { ref } from 'vue';\n\nconst dateRange = ref('');\n\nconst customRanges = {\n  'Last 7 Days': [\n    new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\n    new Date()\n  ],\n  'Last 30 Days': [\n    new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n    new Date()\n  ],\n  'This Month': [\n    new Date(new Date().getFullYear(), new Date().getMonth(), 1),\n    new Date()\n  ]\n};\n</script>\n\n<template>\n  <InDatePicker\n    id=\"range-picker\"\n    label=\"Date Range\"\n    range\n    v-model=\"dateRange\"\n    :custom-ranges=\"customRanges\"\n  />\n</template>"
    },
    "compareMode": {
      "title": "Compare Date Ranges",
      "description": "Compare two date ranges",
      "code": "<script setup>\nimport { ref } from 'vue';\n\nconst dateRange = ref('');\nconst compareRange = ref('');\n\nconst handleDateChange = (value) => {\n  console.log('Primary range:', value);\n};\n\nconst handleCompareChange = (value) => {\n  console.log('Compare range:', value);\n};\n</script>\n\n<template>\n  <InDatePicker\n    id=\"compare-picker\"\n    label=\"Compare Periods\"\n    range\n    compare\n    v-model=\"dateRange\"\n    @change=\"handleDateChange\"\n    @compare-change=\"handleCompareChange\"\n  />\n</template>"
    }
  },
  "styling": {
    "cssVariables": {
      "--datepicker-bg": "Calendar background (default: white)",
      "--datepicker-text": "Text color",
      "--datepicker-border": "Border color",
      "--datepicker-selected-bg": "Selected date background",
      "--datepicker-selected-text": "Selected date text color",
      "--datepicker-range-bg": "Date range background",
      "--datepicker-today-border": "Today's date border color"
    },
    "classes": {
      "in-date-picker": "Root container",
      "in-date-picker__input": "Date input field",
      "in-date-picker__calendar": "Calendar dropdown",
      "in-date-picker__day": "Individual day cell",
      "in-date-picker__day--selected": "Selected day",
      "in-date-picker__day--in-range": "Day within selected range",
      "in-date-picker__day--today": "Today's date",
      "in-date-picker__day--disabled": "Disabled date",
      "in-date-picker__custom-ranges": "Custom range buttons container",
      "in-date-picker__compare": "Compare range section"
    },
    "notes": "Use CSS variables for theming. Component supports custom range styling."
  },
  "implementationPatterns": [
    {
      "name": "Analytics Date Filter",
      "description": "Date range picker for analytics dashboard",
      "code": "<script setup>\nimport { ref, watch } from 'vue';\nimport { InDatePicker } from '@useinsider/design-system-vue';\n\nconst dateRange = ref('');\nconst analyticsData = ref(null);\nconst loading = ref(false);\n\nconst customRanges = {\n  'Today': [new Date(), new Date()],\n  'Yesterday': [\n    new Date(Date.now() - 24 * 60 * 60 * 1000),\n    new Date(Date.now() - 24 * 60 * 60 * 1000)\n  ],\n  'Last 7 Days': [\n    new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\n    new Date()\n  ],\n  'Last 30 Days': [\n    new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n    new Date()\n  ],\n  'This Month': [\n    new Date(new Date().getFullYear(), new Date().getMonth(), 1),\n    new Date()\n  ]\n};\n\nconst fetchAnalytics = async (range) => {\n  if (!range) return;\n  \n  loading.value = true;\n  try {\n    const [start, end] = range.split(' - ');\n    const response = await fetch(`/api/analytics?start=${start}&end=${end}`);\n    analyticsData.value = await response.json();\n  } catch (error) {\n    console.error('Failed to fetch analytics:', error);\n  } finally {\n    loading.value = false;\n  }\n};\n\nwatch(dateRange, (newRange) => {\n  fetchAnalytics(newRange);\n});\n</script>\n\n<template>\n  <div class=\"analytics-filter\">\n    <InDatePicker\n      id=\"analytics-date\"\n      label=\"Date Range\"\n      range\n      v-model=\"dateRange\"\n      :custom-ranges=\"customRanges\"\n    />\n    \n    <div v-if=\"loading\">Loading analytics...</div>\n    <AnalyticsChart v-else :data=\"analyticsData\" />\n  </div>\n</template>",
      "when": "Building analytics dashboards with date filtering",
      "pros": ["Quick range selection", "Common presets", "User-friendly"],
      "cons": ["Requires date range handling", "Timezone considerations"]
    },
    {
      "name": "Booking System",
      "description": "Date picker with disabled dates for bookings",
      "code": "<script setup>\nimport { ref, computed } from 'vue';\nimport { InDatePicker } from '@useinsider/design-system-vue';\n\nconst selectedDate = ref('');\nconst bookedDates = ref([\n  '2025-11-28',\n  '2025-11-29',\n  '2025-12-01'\n]);\n\nconst disabledDates = computed(() => {\n  return bookedDates.value.map(dateStr => {\n    const date = new Date(dateStr);\n    return Math.floor(date.getTime() / 1000);\n  });\n});\n\n// Disable past dates\nconst minDate = Math.floor(new Date().setHours(0, 0, 0, 0) / 1000);\n</script>\n\n<template>\n  <InDatePicker\n    id=\"booking-date\"\n    label=\"Select Booking Date\"\n    v-model=\"selectedDate\"\n    :disabled-range=\"disabledDates\"\n    :min-date=\"minDate\"\n    format=\"dd.mm.yyyy\"\n  />\n</template>",
      "when": "Building booking or reservation systems",
      "pros": ["Prevents invalid selections", "Clear availability", "User guidance"],
      "cons": ["Complex disabled date logic", "Performance with many dates"]
    },
    {
      "name": "Report Comparison",
      "description": "Compare two time periods for reports",
      "code": "<script setup>\nimport { ref, watch } from 'vue';\nimport { InDatePicker } from '@useinsider/design-system-vue';\n\nconst primaryRange = ref('');\nconst compareRange = ref('');\nconst reportData = ref(null);\n\nconst fetchComparisonReport = async () => {\n  if (!primaryRange.value || !compareRange.value) return;\n  \n  const [primaryStart, primaryEnd] = primaryRange.value.split(' - ');\n  const [compareStart, compareEnd] = compareRange.value.split(' - ');\n  \n  const response = await fetch('/api/report/compare', {\n    method: 'POST',\n    body: JSON.stringify({\n      primary: { start: primaryStart, end: primaryEnd },\n      compare: { start: compareStart, end: compareEnd }\n    })\n  });\n  \n  reportData.value = await response.json();\n};\n\nwatch([primaryRange, compareRange], () => {\n  fetchComparisonReport();\n});\n</script>\n\n<template>\n  <div class=\"report-comparison\">\n    <InDatePicker\n      id=\"report-dates\"\n      label=\"Report Period\"\n      range\n      compare\n      v-model=\"primaryRange\"\n      @compare-change=\"compareRange = $event\"\n    />\n    \n    <ComparisonChart \n      v-if=\"reportData\"\n      :primary=\"reportData.primary\"\n      :compare=\"reportData.compare\"\n    />\n  </div>\n</template>",
      "when": "Building comparison reports or A/B testing dashboards",
      "pros": ["Side-by-side comparison", "Flexible date ranges", "Visual comparison"],
      "cons": ["Complex state management", "Two API calls needed"]
    }
  ],
  "useCases": [
    {
      "title": "Event Date Selection",
      "description": "Select date for event creation",
      "example": "<InDatePicker\n  label=\"Event Date\"\n  v-model=\"eventDate\"\n  :min-date=\"todayTimestamp\"\n  format=\"dd.mm.yyyy\"\n/>"
    },
    {
      "title": "Analytics Dashboard Filter",
      "description": "Filter analytics by date range",
      "example": "<InDatePicker\n  label=\"Date Range\"\n  range\n  v-model=\"dateRange\"\n  :custom-ranges=\"analyticsRanges\"\n/>"
    },
    {
      "title": "Sales Comparison",
      "description": "Compare sales across two periods",
      "example": "<InDatePicker\n  label=\"Compare Periods\"\n  range\n  compare\n  v-model=\"salesPeriod\"\n  @compare-change=\"handleCompare\"\n/>"
    },
    {
      "title": "Birthday Input",
      "description": "Select birth date with max date",
      "example": "<InDatePicker\n  label=\"Date of Birth\"\n  v-model=\"birthDate\"\n  :max-date=\"todayTimestamp\"\n  format=\"dd.mm.yyyy\"\n/>"
    }
  ],
  "bestPractices": [
    {
      "title": "Use Custom Ranges for Common Periods",
      "description": "Provide quick shortcuts for frequently used ranges",
      "code": "const customRanges = {\n  'Today': [new Date(), new Date()],\n  'Last 7 Days': [\n    new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\n    new Date()\n  ],\n  'This Month': [\n    new Date(new Date().getFullYear(), new Date().getMonth(), 1),\n    new Date()\n  ]\n};",
      "reasoning": "Improves UX by reducing clicks for common selections"
    },
    {
      "title": "Set Appropriate Min/Max Dates",
      "description": "Prevent invalid date selections",
      "code": "// Don't allow future dates for birth date\n:max-date=\"Math.floor(Date.now() / 1000)\"\n\n// Don't allow past dates for bookings\n:min-date=\"Math.floor(Date.now() / 1000)\"",
      "reasoning": "Prevents user errors and invalid data"
    },
    {
      "title": "Use Consistent Date Format",
      "description": "Match date format to user's locale",
      "code": "// Turkish users\nformat=\"dd.mm.yyyy\"\n\n// US users\nformat=\"mm/dd/yyyy\"",
      "reasoning": "Reduces confusion and improves usability"
    },
    {
      "title": "Handle Timezone Properly",
      "description": "Be aware of timezone issues",
      "code": "// Convert to UTC before sending to server\nconst utcDate = new Date(selectedDate).toISOString();\n\n// Or use Unix timestamp\nconst timestamp = Math.floor(new Date(selectedDate).getTime() / 1000);",
      "reasoning": "Prevents timezone-related bugs in international apps"
    }
  ],
  "commonMistakes": [
    {
      "mistake": "Not converting dates to Unix timestamps for disabledRange",
      "why": "Component expects Unix timestamps in seconds",
      "impact": "Disabled dates won't work",
      "fix": "Use Math.floor(new Date(date).getTime() / 1000)",
      "severity": "high",
      "example": "// Wrong:\ndisabledRange: [new Date('2025-11-28')]\n\n// Correct:\ndisabledRange: [Math.floor(new Date('2025-11-28').getTime() / 1000)]"
    },
    {
      "mistake": "Creating Date objects in template or computed on every render",
      "why": "Unnecessary object creation affects performance",
      "impact": "Performance degradation",
      "fix": "Move to data() or created() hook",
      "severity": "medium",
      "example": "// Wrong:\n<InDatePicker :custom-ranges=\"{ 'Today': [new Date(), new Date()] }\" />\n\n// Correct:\ndata() { return { ranges: { 'Today': [new Date(), new Date()] } }; }"
    },
    {
      "mistake": "Not handling empty date values",
      "why": "v-model can be empty string initially",
      "impact": "Errors when processing date",
      "fix": "Check if value exists before processing",
      "severity": "medium",
      "example": "// Wrong:\nconst date = new Date(selectedDate);\n\n// Correct:\nconst date = selectedDate ? new Date(selectedDate) : null;"
    }
  ],
  "performanceNotes": [
    {
      "topic": "Custom ranges object creation",
      "description": "Creating new Date objects in customRanges on every render is inefficient",
      "recommendation": "Move customRanges to data() or created() hook",
      "impact": "low"
    },
    {
      "topic": "Large disabled date arrays",
      "description": "Disabling many individual dates can slow down calendar rendering",
      "recommendation": "Use date ranges instead of individual dates where possible",
      "impact": "medium"
    }
  ],
  "accessibilityNotes": [
    {
      "topic": "Label requirement",
      "description": "Date picker must have associated label",
      "wcagLevel": "A",
      "recommendation": "Always provide label prop",
      "example": "<InDatePicker label=\"Select Date\" />"
    },
    {
      "topic": "Custom range labels",
      "description": "Custom range buttons are announced by screen readers",
      "wcagLevel": "AA",
      "recommendation": "Use meaningful labels like 'Last 7 Days' not 'L7D'",
      "example": "customRanges: { 'Last 7 Days': [...] } // Good\ncustomRanges: { 'L7D': [...] } // Avoid"
    },
    {
      "topic": "Keyboard navigation",
      "description": "Calendar must be keyboard navigable",
      "wcagLevel": "A",
      "recommendation": "Arrow keys navigate dates, Enter selects, Escape closes",
      "example": "// Automatically supported by component"
    }
  ]
}
